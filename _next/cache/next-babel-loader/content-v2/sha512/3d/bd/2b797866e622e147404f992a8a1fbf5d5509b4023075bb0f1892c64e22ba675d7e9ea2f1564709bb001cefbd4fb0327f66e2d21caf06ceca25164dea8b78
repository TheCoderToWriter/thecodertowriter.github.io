{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport _ from 'lodash';\nimport moment from 'moment-strftime';\nimport { Layout } from '../components/index';\nimport { markdownify, Link, withPrefix, getPageUrl } from '../utils';\nimport ActionLink from '../components/ActionLink';\nexport default class Home extends React.Component {\n  renderPost(post, index, hasMoreLink, moreLinkText) {\n    const title = _.get(post, 'title');\n\n    const thumbImage = _.get(post, 'thumb_img_path');\n\n    const thumbImageAlt = _.get(post, 'thumb_img_alt', '');\n\n    const excerpt = _.get(post, 'excerpt');\n\n    const date = _.get(post, 'date');\n\n    const dateTimeAttr = moment(date).strftime('%Y-%m-%d %H:%M');\n    const formattedDate = moment(date).strftime('%B %d, %Y');\n    const postUrl = getPageUrl(post, {\n      withPrefix: true\n    });\n    return /*#__PURE__*/_jsx(\"article\", {\n      className: \"post post-card\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"post-card-inside\",\n        children: [thumbImage && /*#__PURE__*/_jsx(Link, {\n          className: \"post-card-thumbnail\",\n          href: postUrl,\n          children: /*#__PURE__*/_jsx(\"img\", {\n            className: \"thumbnail\",\n            src: withPrefix(thumbImage),\n            alt: thumbImageAlt\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"post-card-content\",\n          children: [/*#__PURE__*/_jsxs(\"header\", {\n            className: \"post-header\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"post-meta\",\n              children: /*#__PURE__*/_jsx(\"time\", {\n                className: \"published\",\n                dateTime: dateTimeAttr,\n                children: formattedDate\n              })\n            }), /*#__PURE__*/_jsx(\"h2\", {\n              className: \"post-title\",\n              children: /*#__PURE__*/_jsx(Link, {\n                href: postUrl,\n                children: title\n              })\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"post-excerpt\",\n            children: [excerpt && /*#__PURE__*/_jsx(\"p\", {\n              children: excerpt\n            }), hasMoreLink && moreLinkText && /*#__PURE__*/_jsx(\"p\", {\n              className: \"read-more\",\n              children: /*#__PURE__*/_jsx(Link, {\n                className: \"button button-secondary\",\n                href: postUrl,\n                children: moreLinkText\n              })\n            })]\n          })]\n        })]\n      })\n    }, index);\n  }\n\n  render() {\n    const data = _.get(this.props, 'data');\n\n    const config = _.get(data, 'config');\n\n    const page = _.get(this.props, 'page');\n\n    const hasIntro = _.get(page, 'has_intro');\n\n    const introContent = _.get(page, 'intro_content');\n\n    const introActions = _.get(page, 'intro_actions');\n\n    const hasMoreLink = _.get(page, 'has_more_link');\n\n    const moreLinkText = _.get(page, 'more_link_text');\n\n    const posts = _.orderBy(_.get(this.props, 'posts', []), 'date', 'desc');\n\n    return /*#__PURE__*/_jsxs(Layout, {\n      page: page,\n      config: config,\n      children: [hasIntro && /*#__PURE__*/_jsx(\"div\", {\n        className: \"intro\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"inner-md\",\n          children: [introContent && /*#__PURE__*/_jsx(\"div\", {\n            className: \"intro-text\",\n            children: markdownify(introContent)\n          }), !_.isEmpty(introActions) && /*#__PURE__*/_jsx(\"div\", {\n            className: \"intro-cta\",\n            children: _.map(introActions, (action, index) => /*#__PURE__*/_jsx(ActionLink, {\n              action: action\n            }, index))\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"post-feed\",\n        children: _.map(posts, (post, index) => this.renderPost(post, index, hasMoreLink, moreLinkText))\n      })]\n    });\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}